[build]
# Use Dockerfile for building
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
# Health check endpoint
healthcheckPath = "/api/health"
healthcheckTimeout = 100

# Restart policy
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Start command (Railway will inject PORT env var)
startCommand = "prisma migrate deploy && uvicorn main:app --host 0.0.0.0 --port $PORT"
